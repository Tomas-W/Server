{% extends "base.html" %}

{% block scripts %}
<link rel="stylesheet" href="{{ url_for("static", filename="dist/info_css.min.css") }}">
{% endblock %}

{% block title %}
Info
{% endblock %}

{% block content %}
<section class="main-section">
    <div class="main-wrapper">
        
        <!-------- Side panel -------->
        <div class="side-panel">
            <ul class="side-panel-list">
                <p class="side-panel-title">Items</p>
                {% for item in ids_and_names %}
                    <li><p class="side-panel-item"><a class="break-words" href="{{ url_for("bakery.info", id_=item.id) }}">{{ item.name }}</a></p></li>
                {% endfor %}
            </ul>
        </div>
        
        <!-------- Content -------->
        <div class="main-content">
            <button id="toggle-top-panel-btn" class="side-panel-link">Items</button>

            <!-------- Top panel -------->
            <div class="top-panel">
                <div class="top-panel-list">
                    {% for item in ids_and_names %}
                        <div class="top-panel-item"><a href="{{ url_for("bakery.info", id_=item.id) }}">{{ item.name }}</a></div>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Item info -->
            {% include "bakery/item_info.html" %}

        </div>        
    </div>
</section>
<script>
    const toggleButton = document.getElementById("toggle-top-panel-btn");
    const topPanel = document.querySelector(".top-panel");

    toggleButton.addEventListener("click", () => {
        if (topPanel.style.display === "block") {
            topPanel.style.display = "none";
        } else {
            topPanel.style.display = "block";
        }
    });

    document.querySelectorAll(".top-panel a").forEach(link => {
        link.addEventListener("click", () => {
            topPanel.style.display = "none";
        });
    });
</script>
{% endblock %}

